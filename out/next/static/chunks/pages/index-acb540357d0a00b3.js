(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(8640)}])},8640:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var a=s(5893),i=s(7294),o=s(5451),n=s(8102),l=s(5675),c=s.n(l),r=s(2777);function p(){let[e,t]=(0,i.useState)("Job description"),[s,l]=(0,i.useState)([]),[p,h]=(0,i.useState)(!1),[d,u]=(0,i.useState)({jobTitle:"",jobDescription:"",questions:[],hostname:""}),m=async(e,s)=>{try{h(!0);let a=await fetch("https://billowing-block-bbc2.chrahulofficial.workers.dev",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json"},body:JSON.stringify({message:e,tittle:s})});if(!a.ok)throw Error("HTTP error! Status: ".concat(a.status));let i=await a.json(),o=i.questions||[];t("Questions"),u(e=>({...e,questions:o})),chrome.storage.local.get("scrapedData",e=>{if(e.scrapedData){let t={...e.scrapedData,questions:o};chrome.storage.local.set({scrapedData:t},()=>{console.log("Questions added to scrapedData")})}})}catch(e){console.error("Error fetching interview questions:",e)}finally{h(!1)}},g=()=>{let e=new Blob([d.questions.join("\n\n")],{type:"text/plain;charset=utf-8"});(0,n.saveAs)(e,"questions.txt")};(0,i.useEffect)(()=>{(null==chrome?void 0:chrome.storage)&&chrome.storage.local.get("scrapedData",e=>{if(e.scrapedData){let{desc:s,title:a,hostname:i,questions:o}=e.scrapedData;u(e=>({...e,jobTitle:a,jobDescription:s,hostname:i,questions:o||[]})),o&&0!==o.length?t("Questions"):m(s,a)}})},[]),(0,i.useEffect)(()=>{(null==chrome?void 0:chrome.storage)&&chrome.storage.local.get("jobApplications",e=>{l(e.jobApplications||[])})},[]);let j=()=>{if(null==chrome?void 0:chrome.storage){let e={title:d.jobTitle,hostname:d.hostname,timestamp:new Date().toISOString()};chrome.storage.local.get(["jobApplications"],t=>{let s=[...t.jobApplications||[],e];chrome.storage.local.set({jobApplications:s},()=>{console.log("Job saved successfully"),l(s)})})}},x=e=>{chrome.storage.local.get(["jobApplications"],t=>{let s=(t.jobApplications||[]).filter(t=>t.timestamp!==e.timestamp);chrome.storage.local.set({jobApplications:s},()=>{console.log("Job deleted successfully"),l(s)})})};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"header-top",children:[(0,a.jsxs)("div",{className:"top-bar",children:[(0,a.jsx)("div",{className:"logo-box",children:"IP"}),(0,a.jsx)("h1",{className:"top-bar-heading",children:"InterviewPrep.ai"})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{onClick:j,className:"save-btn",children:"Save"})})]}),(0,a.jsx)("ul",{className:"list-items",children:["Job description","Questions","applications"].map(s=>(0,a.jsx)("li",{className:e===s?"item-highlight":"item",onClick:()=>t(s),children:"applications"===s?"Saved Applications":s},s))}),p&&"applications"!==e&&(0,a.jsx)(o.yfx,{className:"animate-loader",size:30,color:"gray"}),"Job description"===e&&(0,a.jsx)("textarea",{value:d.jobDescription,onChange:e=>u(t=>({...t,jobDescription:e.target.value})),className:"popup-textarea",placeholder:"Paste job description here...",disabled:!!d.jobDescription,rows:8}),"applications"===e&&(0,a.jsx)("div",{className:"applications",children:0===s.length?(0,a.jsx)("p",{className:"noq",style:{textAlign:"center"},children:"No saved applications yet."}):(0,a.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:s.map((e,t)=>(0,a.jsx)("div",{className:"q-box",children:(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"15px"},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:["internshala.com"===e.hostname?(0,a.jsx)(c(),{src:"https://internshala.com//static/images/internshala_og_image.jpg",width:80,height:40,blurDataURL:"https://internshala.com//static/images/internshala_og_image.jpg",priority:!0,placeholder:"blur",alt:"Logo"}):(0,a.jsx)(c(),{src:"https://images.ctfassets.net/e8i6c2002cqg/336jHkunz7PxBObVvPuQ5A/96aee60cdf3eee9f09381682daf56a44/auXY68iA.png",width:80,height:40,blurDataURL:"https://images.ctfassets.net/e8i6c2002cqg/336jHkunz7PxBObVvPuQ5A/96aee60cdf3eee9f09381682daf56a44/auXY68iA.png",priority:!0,placeholder:"blur",alt:"Logo"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{style:{fontSize:"18px",fontWeight:"500"},children:e.title}),(0,a.jsx)("p",{children:e.hostname})]})]}),(0,a.jsx)("button",{onClick:()=>{x(e)},style:{background:"transparent",border:"none",cursor:"pointer"},children:(0,a.jsx)(r.We9,{size:20,color:"#ff4d4f"})})]})},t))})}),"Questions"===e&&(0,a.jsxs)("div",{className:"questions",children:[d.questions.length>0?d.questions.map((e,t)=>(0,a.jsx)("div",{className:"q-box",children:(0,a.jsx)("h1",{className:"q-heading",children:e})},t)):(0,a.jsx)("p",{className:"noq",children:"No interview questions"}),d.questions.length>0&&(0,a.jsx)("button",{onClick:g,className:"btn-export",children:"Export File"})]})]})}function h(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(p,{})})}}},function(e){e.O(0,[845,434,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);