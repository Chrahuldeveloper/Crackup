(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(8640)}])},8640:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var a=t(5893),i=t(7294),o=t(5451),n=t(8102),l=t(5675),c=t.n(l),r=t(2777);function p(){let[e,s]=(0,i.useState)("Job description"),[t,l]=(0,i.useState)([]),[p,d]=(0,i.useState)(!1),[h,m]=(0,i.useState)({jobTitle:"",jobDescription:"",questions:[],hostname:""}),u=async(e,t)=>{try{d(!0);let a=await fetch("https://billowing-block-bbc2.chrahulofficial.workers.dev",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json"},body:JSON.stringify({message:e,tittle:t})});if(!a.ok)throw Error("HTTP error! Status: ".concat(a.status));let i=await a.json(),o=i.questions||[];s("Questions"),m(e=>({...e,questions:o})),chrome.storage.local.get("scrapedData",e=>{if(e.scrapedData){let s={...e.scrapedData,questions:o};chrome.storage.local.set({scrapedData:s},()=>{console.log("Questions added to scrapedData")})}})}catch(e){console.error("Error fetching interview questions:",e)}finally{d(!1)}},j=()=>{let e=new Blob([h.questions.join("\n\n")],{type:"text/plain;charset=utf-8"});(0,n.saveAs)(e,"questions.txt")};(0,i.useEffect)(()=>{(null==chrome?void 0:chrome.storage)&&chrome.storage.local.get("scrapedData",e=>{if(e.scrapedData){let{desc:t,title:a,hostname:i,questions:o}=e.scrapedData;m(e=>({...e,jobTitle:a,jobDescription:t,hostname:i,questions:o||[]})),o&&0!==o.length?s("Questions"):u(t,a)}})},[]),(0,i.useEffect)(()=>{(null==chrome?void 0:chrome.storage)&&chrome.storage.local.get("jobApplications",e=>{l(e.jobApplications||[])})},[]);let g=()=>{if(null==chrome?void 0:chrome.storage){let e={title:h.jobTitle,hostname:h.hostname,timestamp:new Date().toISOString()};chrome.storage.local.get(["jobApplications"],s=>{let t=[...s.jobApplications||[],e];chrome.storage.local.set({jobApplications:t},()=>{console.log("Job saved successfully"),l(t)})})}},b=e=>{chrome.storage.local.get(["jobApplications"],s=>{let t=(s.jobApplications||[]).filter(s=>s.timestamp!==e.timestamp);chrome.storage.local.set({jobApplications:t},()=>{console.log("Job deleted successfully"),l(t)})})};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"header-top",children:[(0,a.jsxs)("div",{className:"top-bar",children:[(0,a.jsx)("div",{className:"logo-box",children:"IP"}),(0,a.jsx)("h1",{className:"top-bar-heading",children:"InterviewPrep.ai"})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{onClick:g,className:"save-btn",children:"Save"})})]}),(0,a.jsx)("ul",{className:"list-items",children:["Job description","Questions","applications"].map(t=>(0,a.jsx)("li",{className:e===t?"item-highlight":"item",onClick:()=>s(t),children:"applications"===t?"Saved Applications":t},t))}),p&&"applications"!==e&&(0,a.jsx)(o.yfx,{className:"animate-loader",size:30,color:"gray"}),"Job description"===e&&(0,a.jsx)("textarea",{value:h.jobDescription,onChange:e=>m(s=>({...s,jobDescription:e.target.value})),className:"popup-textarea",placeholder:"Paste job description here...",disabled:!!h.jobDescription,rows:8}),"applications"===e&&(0,a.jsx)("div",{className:"applications",children:0===t.length?(0,a.jsx)("p",{className:"noq",style:{textAlign:"center"},children:"No saved applications yet."}):(0,a.jsx)("div",{className:"centered-column",children:t.map((e,s)=>(0,a.jsx)("div",{className:"q-box",children:(0,a.jsxs)("div",{className:"application-item",children:[(0,a.jsxs)("div",{className:"application-details",children:[(0,a.jsx)(c(),{src:"internshala.com"===e.hostname?"https://internshala.com//static/images/internshala_og_image.jpg":"https://images.ctfassets.net/e8i6c2002cqg/336jHkunz7PxBObVvPuQ5A/96aee60cdf3eee9f09381682daf56a44/auXY68iA.png",width:80,height:40,alt:"Logo",blurDataURL:"data:image/png;base64,abc",placeholder:"blur",priority:!0}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{style:{fontSize:"18px",fontWeight:"500"},children:e.title}),(0,a.jsx)("p",{children:e.hostname})]})]}),(0,a.jsx)("button",{onClick:()=>b(e),className:"delete-btn",children:(0,a.jsx)(r.We9,{size:20,color:"#ff4d4f"})})]})},s))})}),"Questions"===e&&(0,a.jsxs)("div",{className:"questions",children:[h.questions.length>0?h.questions.map((e,s)=>(0,a.jsx)("div",{className:"q-box",children:(0,a.jsx)("h1",{className:"q-heading",children:e})},s)):(0,a.jsx)("p",{className:"noq",children:"No interview questions"}),h.questions.length>0&&(0,a.jsx)("button",{onClick:j,className:"btn-export",children:"Export File"})]})]})}function d(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(p,{})})}}},function(e){e.O(0,[845,434,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);